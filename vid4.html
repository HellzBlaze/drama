<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <title>Traile | 8B Drama Team</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="data:,">
    
    <style>
        .modal-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.85);
            display: none; /* Hidden by default */
            align-items: center;
            justify-content: center;
            z-index: 999999;
            backdrop-filter: blur(5px);
        }
        .modal-content {
            background: linear-gradient(135deg, #F5F0E6, #EDE4D9);
            padding: 40px;
            border-radius: 30px;
            border: 6px solid #D4AF37;
            text-align: center;
            box-shadow: 0 0 50px rgba(212,175,55,0.6);
            max-width: 400px;
            width: 90%;
            font-family: serif;
            animation: popIn 0.3s ease-out;
        }
        @keyframes popIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        .modal-content h3 { color: #8B0000; font-size: 2em; margin-bottom: 10px; margin-top: 0; }
        .modal-btn-container { display: flex; justify-content: center; gap: 20px; margin-top: 30px; }
        .modal-btn {
            padding: 15px 30px; border-radius: 50px; border: none;
            font-weight: bold; font-size: 1.2em; cursor: pointer; transition: transform 0.2s;
        }
        .btn-yes { background: #2E8B57; color: white; border: 3px solid #D4AF37; }
        .btn-no { background: #8B0000; color: white; border: 3px solid #D4AF37; }
        .modal-btn:hover { transform: scale(1.1); }
    </style>
</head>
<body>
    <div class="dark-mode-toggle">
        <input type="checkbox" id="darkMode"><label for="darkMode">Dark Mode</label>
    </div>

    <header>
        <div class="logo"><h1>Taming Of The Shrew Trailer <br><span style="font-size:0.6em;">Glimpses of what's just to come</span></h1></div>
    </header>

    <main>
        <div class="video-container">
            <div class="video-wrapper" id="youtubeWrapper2">
                <div id="player"></div>
            </div>
            
            <div style="text-align:center; margin-top:20px;">
                <button onclick="toggleFullScreen('youtubeWrapper2')" class="view-btn">
                    â›¶ Watch Full Screen
                </button>
            </div>
        </div>
        
<p style="text-align:center; font-size:1.6em; margin:40px 20px; opacity:0.9;">
           join us for the performance
        </p>
    </main>

    <div class="page-footer">
        <a href="index.html" class="back-to-main">Back to Main</a>
    </div>

    <div id="audioModal" class="modal-overlay">
        <div class="modal-content">
            <h3>Turn on Sound?</h3>
            <p>The video is playing quietly.</p>
            <div class="modal-btn-container">
                <button class="modal-btn btn-yes" onclick="handleAudioChoice(true)">Yes ðŸ”Š</button>
                <button class="modal-btn btn-no" onclick="handleAudioChoice(false)">No ðŸ”‡</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>

    <script>
        // 1. Load API
        var tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        var player;
        
        // 2. Create Player with NEW ID: M1xxhLYJkUw
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('player', {
                height: '100%',
                width: '100%',
                videoId: 'DX8RkBoIeDw', // NEW VIDEO ID
                playerVars: {
                    'autoplay': 1,
                    'controls': 1,
                    'mute': 1, // START MUTED (Required for Autoplay)
                    'loop': 1,
                    'playlist': 'DX8RkBoIeDw', // REQUIRED FOR LOOP
                    'playsinline': 1
                },
                events: {
                    'onReady': onPlayerReady
                }
            });
        }

        // 3. Show Popup when ready
        function onPlayerReady(event) {
            event.target.playVideo();
            document.getElementById('audioModal').style.display = 'flex';
        }

        // 4. Handle Click
        function handleAudioChoice(shouldUnmute) {
            if (shouldUnmute) {
                player.unMute();
                player.setVolume(100);
            }
            // Hide modal
            document.getElementById('audioModal').style.display = 'none';
        }
    </script>
</body>
</html>
