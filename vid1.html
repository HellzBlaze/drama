<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prop work | 8A Drama Team</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="dark-mode-toggle">
        <input type="checkbox" id="darkMode"><label for="darkMode">Dark Mode</label>
    </div>

    <header>
        <div class="logo"><h1>Romeo & Juliet Prop Work <br><span style="font-size:0.6em;">Art at it's finest</span></h1></div>
    </header>

    <main>
        <div class="video-container">
            <div class="video-wrapper" id="youtubeWrapper">
                <div id="player"></div>
            </div>
            
            <div style="text-align:center; margin-top:20px;">
                <button onclick="toggleFullScreen('youtubeWrapper')" class="view-btn">
                    â›¶ Watch Full Screen
                </button>
            </div>
        </div>
        
        <p style="text-align:center; font-size:1.6em; margin:40px 20px; opacity:0.9;">
            The props - The context and art of the play.
        </p>
    </main>

    <div class="page-footer">
        <a href="index.html" class="back-to-main">Back to Main</a>
    </div>

    <div id="audioModal" class="modal-overlay">
        <div class="modal-content">
            <h3>Turn on Sound?</h3>
            <p>The video is playing quietly.</p>
            <div class="modal-btn-container">
                <button class="modal-btn btn-yes" onclick="handleAudioChoice(true)">Yes ðŸ”Š</button>
                <button class="modal-btn btn-no" onclick="handleAudioChoice(false)">No ðŸ”‡</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>

    <script>
        // 1. Load the IFrame Player API code asynchronously.
        var tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        var player;
        
        // 2. This function creates an <iframe> (and YouTube player)
        //    after the API code downloads.
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('player', {
                height: '100%',
                width: '100%',
                videoId: 'QseDf59qyoo', // YOUR 8A VIDEO ID HERE
                playerVars: {
                    'autoplay': 1,
                    'controls': 1,
                    'mute': 1,       // START MUTED (Required for Autoplay)
                    'loop': 1,
                    'playlist': 'QseDf59qyoo', // REQUIRED FOR LOOP
                    'playsinline': 1
                },
                events: {
                    'onReady': onPlayerReady
                }
            });
        }

        // 3. The API will call this function when the video player is ready.
        function onPlayerReady(event) {
            event.target.playVideo();
            // Show the popup immediately
            document.getElementById('audioModal').style.display = 'flex';
        }

        // 4. Handle Yes/No Click
        function handleAudioChoice(shouldUnmute) {
            if (shouldUnmute) {
                player.unMute();
                player.setVolume(100);
            }
            // Hide modal
            document.getElementById('audioModal').style.display = 'none';
        }
    </script>
</body>
</html>
